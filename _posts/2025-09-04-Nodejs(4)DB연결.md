---
defaults:
  # _posts
  - scope:
      path: ""
      type: posts
    values:
      layout: single
      author_profile: true
      read_time: true
      comments: true
      share: true
      related: true
    author: Ceaser
---

# nodejs + mysql 조합
#### mysql 설치
- mysql을 다음의 링크를 통해서 설치하자. [MYSQL]
- 설치하면서 port 번호 3306, root 비밀번호 잊지 말자. 

#### nodejs에 mysql에 연결할 라이브러리 설치
```cmd
    npm install mysql2
```

## html 화면
```html
<body>
    <h1>join</h1>
    <form action="http://localhost:3000/user/join" method="post">
        ID : <input name="id"><br>
        PW : <input name="pw"><br>
        Nick : <input name="nick"><br>
        <!-- 
            action 속성을 실생시키는 type은 submit이다.
        -->
        <input type="submit">
        <!-- 
            button 티그가 form 태그 안에 들어가게 된다면
            button 태그의 기본 type은 submit이다.
            그래서 아래와 같이 type="button"으로 지정해주어야 한다.
        -->
        <button type="button">회원가입</button>
    </form>
</body>
```
- id, password, nick 값이 form 태그를 통해서 넘어온다. 
- 그러면 그걸 form의 action의 주소로 넘어가게 되고, 이 주소를 받아서 서버에서 처리하게 된다.

그 전에 파일 구조를 살펴보자.
EXPRESS02
├─config
├─public
├─router
└─views

[MYSQL] : https://downloads.mysql.com/archives/installer/

## 다른 모듈에도 쓰이는 db 정보 모듈
- 다른 js 파일에서도 db정보를 통해서 table에 접근 할 수 있어야 한다. 
- 그러므로 js파일을 따로 떼어서 독립시켜 놓고, 그걸 가져다 쓰면 유지보수에도, 도움이 된다.
- 그리고 이 파일은 /config/database.js
```javascript
const mysql = require("mysql2");

// DB 연결 정보
let conn = mysql.createConnection({
    host : "localhost",
    user : "root",
    password : "****",
    port : 3306,
    database : "mynode"
})

// DB 연결 통로 생성
// 모듈 빼내기
module.exports = conn;
```
- 다음과 같이 따로 떼어 놓고, 이를 module.export = conn으로 떼어 준다. 
- 그럼 이걸로 조회, 수정, 삭제 기능을 만들어 보자. 

