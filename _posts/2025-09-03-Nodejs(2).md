---
defaults:
  # _posts
  - scope:
      path: ""
      type: posts
    values:
      layout: single
      author_profile: true
      read_time: true
      comments: true
      share: true
      related: true
    author: Ceaser
---

# NodeJs 정리 : post 방식
## post 방식?
- post 방식은 패킷에 실어서 보내는 방법.
- get과 달리 정보가 노출되지 않는 것이 특징
- body에 정보가 실어오기에 왠만한 데이터는 전송 가능
- 대신에 서버에서는 이걸 어떻게 가져오냐...

### html에서
```html
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <form action="http://localhost:3003" method="post">
        <table border="1px">
            <tr>
                <td>
                    <label for="input_name">이름</label>
                </td>
                <td>
                    <input type="text" name="input_name" id="input_name">
                </td>
            </tr>
            <tr>
                <td>
                    <label for="input_html">HTML점수</label>
                </td>
                <td>
                    <input type="number" name="input_html" id="input_html">
                </td>
            </tr>
            <tr>
                <td>
                    <label for="input_css">CSS점수</label>
                </td>
                <td>
                    <input type="number" name="input_css" id="input_css">
                </td>
            </tr>
            <tr>
                <td>
                    <label for="input_nodejs">Nodejs점수</label>
                </td>
                <td>
                    <input type="number" name="input_nodejs" id="input_nodejs">
                </td>
            </tr>
            <tr>
                <td>
                    <label for="input_android">ANDROID점수</label>
                </td>
                <td>
                    <input type="number" name="input_android" id="input_android">
                </td>
            </tr>
            <tr>
                <td colspan="2">
                    <input type="submit" value="학점확인하기">
                </td>
            </tr>
        </table>
    </form>
</body>
</html>
```
- 좀 기네 
- form 에서 action은 그 전의 get과 같음.
- 다만 method가 "post"로 다름. 

### Nodejs
```javascript
const express = require("express");
const router = express.Router();
// router : 서버에 적용되는 모듈화 변수. 

// post 방식으로 데이터 통신시에 body 영역윽 사용할 수 있게끔 허용하겠습니다. 
app.use(express.urlencoded({extended: true}));
app.use(express.json());

router.post("/login", (request, response)=>{
    // request로부터 ID와 PW꺼내 사용
    console.log(request.body);
    let inputId = request.body.ID;
    let inputPw = request.body.PW;
    
    if (inputId == "smhrd" && inputPw == '123'){
        response.write("login success");
    }
    else{
        response.write("login failed");
    }
    response.end();
})

module.exports = router;
```
- 위의 경우에는 express를 쓴 부분. 
- 조금 뒤에 서버 파일을 쪼개는 방법을 설명하면 됨.
- 다음의 구문을 써야, post에서 오는 정보를 받을 수 있음.
    ```javascript
    app.use(express.urlencoded({extended: true}));
    app.use(express.json());
    ```
- 위에서 설명했듯이, body에 같이 오므로 다음과 같이 body에서 얻어야 함
    ```javascript
    let inputId = request.body.ID;
    let inputPw = request.body.PW;
    ```
- 그리고 그 후에 그 정보를 처리하면 된다. 